<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Abacus Fun</title>
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Titillium+Web" />
    <link rel="stylesheet" type="text/css" href="./assets/stylesheets/reset.css" />
    <link rel="stylesheet" type="text/css" href="./assets/stylesheets/abacus.css" />
    <script src="./src/math.js"></script>    
    <script src="./src/abacus.js"></script>
    <script src="./src/tutorial.js"></script>
  </head>

  <body onload="main()">    
    <div id="main">
      <div class="menu-wrapper">
        <a href="/" class="menu-item icon-close">
          <img alt="Close" src="./assets/images/close.png" width="60" height="57">
        </a>
        <div class="menu-item steps">
          <button id="prev-step" onclick="showTutorial(-1)">
            <img alt="Previous step" src="./assets/images/prev.png" width="60" height="57">          
          </button>
          <button id="next-step" onclick="showTutorial(1)">          
            <img alt="Next step" src="./assets/images/next.png" width="60" height="57">
          </button>
        </div>
      </div>      
      <div id="text-wrapper">      
        <div id="message">Welcome to the basic tutorial!</div>  
        <span id="total">0</span>
      </div>
      <div id="abacus-holder">
        <div class="btn btn-primary tooltip">
          <div id="reset-wrapper">
            <button id="reset" onclick="reset()"></button>
          </div>
          <div class="top">
              <p>Press this button to reset the abacus</p>
              <i></i>
          </div>
        </div>

        <table id="abacus">
          <tr>
            <td data-value="50000000" class="upper" data-sum="sum-ten-million" ></td>
            <td class="separator"></td>
            <td data-value="10000000" data-sum="sum-ten-million"></td>
            <td data-value="10000000" data-sum="sum-ten-million"></td>
            <td data-value="10000000" data-sum="sum-ten-million"></td>
            <td data-value="10000000" data-sum="sum-ten-million"></td>
          </tr>
          <tr>
            <td data-value="50000000" class="upper" data-sum="sum-million"></td>
            <td class="separator"></td>
            <td data-value="10000000" data-sum="sum-million"></td>
            <td data-value="10000000" data-sum="sum-million"></td>
            <td data-value="10000000" data-sum="sum-million"></td>
            <td data-value="10000000" data-sum="sum-million"></td>
          </tr>
          <tr>
            <td
              data-value="500000"
              class="upper"
              data-sum="sum-hundred-thousand"
            ></td>
            <td class="separator"></td>
            <td data-value="100000" data-sum="sum-hundred-thousand"></td>
            <td data-value="100000" data-sum="sum-hundred-thousand"></td>
            <td data-value="100000" data-sum="sum-hundred-thousand"></td>
            <td data-value="100000" data-sum="sum-hundred-thousand"></td>
          </tr>
          <tr>
            <td
              data-value="50000"
              class="upper"
              data-sum="sum-ten-thousand"
            ></td>
            <td class="separator"></td>
            <td data-value="10000" data-sum="sum-ten-thousand"></td>
            <td data-value="10000" data-sum="sum-ten-thousand"></td>
            <td data-value="10000" data-sum="sum-ten-thousand"></td>
            <td data-value="10000" data-sum="sum-ten-thousand"></td>
          </tr>
          <tr>
            <td data-value="5000" class="upper" data-sum="sum-thousand"></td>
            <td class="separator"></td>
            <td data-value="1000" data-sum="sum-thousand"></td>
            <td data-value="1000" data-sum="sum-thousand"></td>
            <td data-value="1000" data-sum="sum-thousand"></td>
            <td data-value="1000" data-sum="sum-thousand"></td>
          </tr>
          <tr>
            <td data-value="500" class="upper" data-sum="sum-hundred"></td>
            <td class="separator"></td>
            <td data-value="100" data-sum="sum-hundred"></td>
            <td data-value="100" data-sum="sum-hundred"></td>
            <td data-value="100" data-sum="sum-hundred"></td>
            <td data-value="100" data-sum="sum-hundred"></td>
          </tr>
          <tr>
            <td data-value="50" class="upper" data-sum="sum-ten"></td>
            <td class="separator"></td>
            <td data-value="10" data-sum="sum-ten"></td>
            <td data-value="10" data-sum="sum-ten"></td>
            <td data-value="10" data-sum="sum-ten"></td>
            <td data-value="10" data-sum="sum-ten"></td>
          </tr>
          <tr>
            <td data-value="5" class="upper" data-sum="sum-unit"></td>
            <td class="separator" rowspan=""></td>
            <td data-value="1" data-sum="sum-unit"></td>
            <td data-value="1" data-sum="sum-unit"></td>
            <td data-value="1" data-sum="sum-unit"></td>
            <td data-value="1" data-sum="sum-unit"></td>
          </tr>
        </table> 
        <table id="place-value">
          <tr>
            <td id="sum-ten-million" data-value="0"></td>
            <td id="sum-million" data-value="0"></td>
            <td id="sum-hundred-thousand" data-value="0"></td>
            <td id="sum-ten-thousand" data-value="0"></td>
            <td id="sum-thousand" data-value="0"></td>
            <td id="sum-hundred" data-value="0"></td>
            <td id="sum-ten" data-value="0"></td>
            <td id="sum-unit" data-value="0"></td>
          </tr>
        </table>               
      </div>
      <canvas id="canvas" width="1280" height="600">
        Your browser does not support the canvas element.
      </canvas>
    </div>
    <script>
      function getCursorPosition(canvas, event) {
        const rect = canvas.getBoundingClientRect();
        const x = event.clientX - rect.left;
        const y = event.clientY - rect.top;
        console.log("x: " + x + " y: " + y);
      }

      const canvas = document.getElementById("canvas");
      canvas.addEventListener("mousedown", function(e) {
        getCursorPosition(canvas, e);
      });
    </script>
  </body>
</html>
